!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)r.d(n,u,function(t){return e[t]}.bind(null,u));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.Model=n.default},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},u=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),u=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,u++)n[u]=i[o];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(){return function(e){var t=this;this.handleBuild=null,this.state={},this.use=function(e){t.handleBuild=e},this.insert=function(e){var r=Object.keys(e).map(function(e){return""+e}).join(","),n=Object.values(e).map(i.encodeValue).join(",");return t.state={type:"insert",single:"INSERT INTO "+t.name+" ("+r+") VALUES ("+n+");"},{build:t.build}},this.select=function(e){return void 0===e&&(e=[]),t.state={type:"select",select:e},{where:t.where,limit:t.limit,order:t.order,group:t.group,offset:t.offset,build:t.build}},this.delete=function(){return t.state={type:"delete"},{where:t.where,build:t.build}},this.update=function(e){return t.state={type:"update",update:e},{where:t.where,build:t.build}},this.where=function(e){return t.state=n(n({},t.state),{where:e}),{limit:t.limit,order:t.order,group:t.group,offset:t.offset,build:t.build}},this.limit=function(e){return t.state=n(n({},t.state),{limit:e}),{order:t.order,group:t.group,offset:t.offset,build:t.build}},this.offset=function(e){return t.state=n(n({},t.state),{offset:e}),{order:t.order,group:t.group,build:t.build}},this.order=function(e){return t.state=n(n({},t.state),{order:e}),{group:t.group,build:t.build}},this.group=function(e){return t.state=n(n({},t.state),{group:e}),{build:t.build}},this.build=function(){var e=t.state,r=[];if(e.single)return t.handleBuild?t.handleBuild(e.single):e.single;if("select"===e.type){var n="*";e.select&&e.select.length>0&&(n=e.select.join(",")),r.push("SELECT "+n)}if("delete"===e.type&&r.push("DELETE"),"update"===e.type){r.push("UPDATE "+t.name);var o=t.state.update;if(!o||0===Object.keys(o).length)throw new Error("Empty Update params");if(o){r.push("SET");var s=Object.keys(o).reduce(function(e,t){return u(e,[t+"="+i.encodeValue(o[t])])},[]);r.push(s.join(","))}}"update"!==e.type&&r.push("FROM "+t.name);var l=e.where;if(l)if("object"==typeof l){var a="WHERE "+Object.keys(l).map(function(e){return i.prepareWhereItem(e,l[e])}).join(" AND ");r.push(a)}else r.push("WHERE "+l);e.limit&&r.push("LIMIT "+e.limit),e.offset&&r.push("OFFSET "+e.offset),e.order&&r.push("ORDER BY "+e.order),e.group&&e.group.length>0&&r.push("GROUP BY "+e.group.join(","));var f=r.join(" ")+";";return t.handleBuild?t.handleBuild(f):f},this.name=e}}();t.default=function(e){return new o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareWhereItem=function(e,t){switch(typeof t){case"object":return null===t?e+" IS NULL":e+" IN ("+t+")";case"string":return e+"='"+t+"'";default:return e+"="+t}},t.encodeValue=function(e){return"string"==typeof e?"'"+e+"'":e}}]));